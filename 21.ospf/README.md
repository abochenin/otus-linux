## Домашнее задание 21.ospf
 Поднять три виртуалки
- Объединить их разными private network
1. Поднять OSPF между машинами на базе Quagga
2. Изобразить ассиметричный роутинг
3. Сделать один из линков "дорогим", но что бы при этом роутинг был симметричным

Формат сдачи:
Vagrantfile + ansible 

---


## Подготовка
Создаем виртуалки
```bash
vagrant up
```

В результате работы скриптов провижена, будет подняты три виртуалки, схема сети приложена ниже.

## Схема сети
```bash

192.168.101.0/24                               ------ 192.168.102.0/24
\                                             /
 \                                           /
  \        .1      192.168.12.*     .2      /.1
    (R1)  ----------------------------  (R2)
        .1\                          /.2
           \                        /
            \                      /
             \                    /
              \                  /
   192.168.13.*\                /192.168.23.*
                \              /
                 \            /
                  \          /
                   \        /
                    \      /
                     \    /
                      \  /
                     .3\/.3

                      (R3)

                       |.1
                       |
                       192.168.103.0/24
```

Мы имеем по три линка на каждом маршрутизаторе. Стоимость всех линков идентична, кроме одного.
Линк от R1 к R2 имеет повышенную стоимость, для создания асимметрии.

Смотрим, что получилось с маршрутами на R1

```bash
[root@R1 ~]# ip r
default via 10.0.2.2 dev eth0 proto dhcp metric 100
10.0.2.0/24 dev eth0 proto kernel scope link src 10.0.2.15 metric 100
192.168.12.0/24 dev eth1 proto kernel scope link src 192.168.12.1 metric 101
192.168.13.0/24 dev eth2 proto kernel scope link src 192.168.13.1 metric 102
192.168.23.0/24 via 192.168.13.3 dev eth2 proto zebra metric 20
192.168.101.0/24 dev eth3 proto kernel scope link src 192.168.101.1 metric 103
192.168.102.0/24 proto zebra metric 30
        nexthop via 192.168.12.2 dev eth1 weight 1
        nexthop via 192.168.13.3 dev eth2 weight 1
192.168.103.0/24 via 192.168.13.3 dev eth2 proto zebra metric 20
```

Обращаем внимание на 192.168.23.0/24 via 192.168.13.3 dev eth2 proto zebra metric 20. Этот маршрут не кратчайший, 
но тем не менее выбран именно он, т.к. прямой линк от R1 к R2 - "дорогой" 

